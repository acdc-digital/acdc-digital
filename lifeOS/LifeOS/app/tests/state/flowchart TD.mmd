flowchart TD
    %% Entry Point
    Start(["`ğŸš€ **pnpm state**
    Command Entry Point`"]) --> Audit{"`ğŸ” **State Auditor**
    Enhanced TypeScript Implementation`"}
    
    %% File Discovery
    Audit --> Discovery["`ğŸ“ **File Discovery**
    - 23 Component Files (.tsx)
    - 4 Store Files (.ts)  
    - 2 Hook Files (.ts)
    - 3 Convex Files (.ts)`"]
    
    %% Audit Categories
    Discovery --> AuthSync["`ğŸ” **Authentication Sync**
    Clerk â†” Convex Integration`"]
    Discovery --> DataFlow["`ğŸŒŠ **Data Flow Architecture** 
    Server vs Client State`"]
    Discovery --> StateSep["`ğŸ“Š **State Separation**
    Business vs UI Data`"]
    Discovery --> TypeSafety["`ğŸ”’ **Type Safety**
    TypeScript Compliance`"]
    Discovery --> Performance["`âš¡ **Performance**
    Optimization Patterns`"]
    
    %% Validation Logic
    AuthSync --> AuthCheck{"`AuthSync Component?`"}
    AuthCheck -->|Yes| AuthPass["`âœ… Auth: 100/100`"]
    AuthCheck -->|No| AuthFail["`âŒ Auth: Failed`"]
    
    DataFlow --> ConvexCheck{"`Convex as Source of Truth?`"}
    ConvexCheck -->|Yes| DataPass["`âœ… Data Flow: 100/100`"]
    ConvexCheck -->|No| DataFail["`âŒ Data Flow: < 100`"]
    
    StateSep --> StateCheck{"`Business Data in useState?`"}
    StateCheck -->|No| StatePass["`âœ… State Clean`"]
    StateCheck -->|Yes| StateFail["`âŒ useState Violation`"]
    
    %% Results Compilation
    AuthPass --> Results["`ğŸ“Š **Results Compiler**
    Architecture Scoring`"]
    DataPass --> Results
    StatePass --> Results
    AuthFail --> Results
    DataFail --> Results
    StateFail --> Results
    
    %% Final Output
    Results --> ScoreCalc{"`Overall Score Calculation`"}
    ScoreCalc -->|100/100| Success["`ğŸ‰ **COMPREHENSIVE AUDIT PASSED!**
    
    ğŸ“Š ARCHITECTURE SCORES:
       ğŸ” Auth Sync: 100/100
       ğŸŒŠ Data Flow: 100/100
       ğŸ¯ Overall: 100/100
    
    Files Audited: 32
    Errors: 0
    Warnings: 0`"]
    
    ScoreCalc -->|< 100| Failure["`ğŸ”´ **AUDIT FAILED**
    Critical Issues Found
    
    ğŸ“Š ARCHITECTURE SCORES:
       ğŸ” Auth Sync: X/100  
       ğŸŒŠ Data Flow: Y/100
       ğŸ¯ Overall: Z/100
    
    ğŸš¨ VIOLATIONS BY CATEGORY:
       Detailed error locations`"]
    
    %% Styling
    classDef startNode fill:#e1f5fe,stroke:#0277bd,stroke-width:3px
    classDef auditNode fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef categoryNode fill:#e8f5e8,stroke:#2e7d32,stroke-width:2px
    classDef passNode fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    classDef failNode fill:#ffcdd2,stroke:#f44336,stroke-width:2px
    classDef successNode fill:#a5d6a7,stroke:#388e3c,stroke-width:3px
    classDef failureNode fill:#ef9a9a,stroke:#d32f2f,stroke-width:3px
    
    class Start startNode
    class Audit,Discovery auditNode
    class AuthSync,DataFlow,StateSep,TypeSafety,Performance categoryNode
    class AuthPass,DataPass,StatePass passNode
    class AuthFail,DataFail,StateFail failNode
    class Success successNode
    class Failure failureNode